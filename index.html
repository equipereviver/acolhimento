<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Formulário de Acolhimento CAPS</title>
</head>
<body>

<h1>Formulário de Acolhimento CAPS</h1>

<h2>Dados Gerais</h2>
<label>Encaminhado por: <input type="text" id="encaminhadoPor"></label><br>
<label>Motivo de acolhimento: <input type="text" id="motivoAcolhimento"></label><br>
<label>Equipe de Referência: <input type="text" id="equipeReferencia"></label><br>
<label>Profissionais no CAPS: <input type="text" id="profissionaisCaps"></label><br>
<label>Rede de Apoio: <input type="text" id="redeApoio"></label><br>
<label>Situação profissional: <input type="text" id="situacaoProfissional"></label><br>
<label>Beneficiário: 
    <input type="radio" id="beneficiarioSim" name="beneficiario">Sim
    <input type="radio" id="beneficiarioNao" name="beneficiario">Não
</label><br>
<label>Histórico de vida:<br><textarea id="historicoVida"></textarea></label><br>
<label>Motivação para o tratamento:<br><textarea id="motivacaoTratamento"></textarea></label><br>
<label>Alergias:<br><textarea id="alergias"></textarea></label><br>
<label>Comorbidades clínicas:<br><textarea id="comorbidadesClinicas"></textarea></label><br>
<label>Comorbidades psiquiátricas:<br><textarea id="comorbidadesPsiquiatricas"></textarea></label><br>
<label>Medicações em uso:<br><textarea id="medicacoesUso"></textarea></label><br>
<label>Histórico de tratamentos psiquiátricos:<br><textarea id="historicoTratamentos"></textarea></label><br>
<label>História de comportamento suicida:<br><textarea id="comportamentoSuicida"></textarea></label><br>

<h2>Substâncias Psicoativas</h2>

<!-- Repetido 3 vezes -->
<div>
    <h3>Substância 1</h3>
    <label>Nome: <input type="text" id="substanciaPsico1"></label><br>
    <label>Situação: 
        <input type="radio" id="situacao1EmUso" name="situacao1">Em uso
        <input type="radio" id="situacao1Cessado" name="situacao1">Cessado
    </label><br>
    <label>Idade do primeiro uso: <input type="number" id="idadePrimeiroUso1"></label><br>
    <label>Frequência: <input type="text" id="frequencia1"></label><br>
    <label>Último uso: <input type="text" id="ultimoUso1"></label><br>
</div>

<div>
    <h3>Substância 2</h3>
    <label>Nome: <input type="text" id="substanciaPsico2"></label><br>
    <label>Situação: 
        <input type="radio" id="situacao2EmUso" name="situacao2">Em uso
        <input type="radio" id="situacao2Cessado" name="situacao2">Cessado
    </label><br>
    <label>Idade do primeiro uso: <input type="number" id="idadePrimeiroUso2"></label><br>
    <label>Frequência: <input type="text" id="frequencia2"></label><br>
    <label>Último uso: <input type="text" id="ultimoUso2"></label><br>
</div>

<div>
    <h3>Substância 3</h3>
    <label>Nome: <input type="text" id="substanciaPsico3"></label><br>
    <label>Situação: 
        <input type="radio" id="situacao3EmUso" name="situacao3">Em uso
        <input type="radio" id="situacao3Cessado" name="situacao3">Cessado
    </label><br>
    <label>Idade do primeiro uso: <input type="number" id="idadePrimeiroUso3"></label><br>
    <label>Frequência: <input type="text" id="frequencia3"></label><br>
    <label>Último uso: <input type="text" id="ultimoUso3"></label><br>
</div>

<label>Fissura:
    <input type="radio" id="fissuraSim" name="fissura">Sim
    <input type="radio" id="fissuraNao" name="fissura">Não
</label><br>

<h2>Exame Psíquico</h2>

<label>Aparência: <input type="text" id="aparencia"></label><br>

<h3>Consciência</h3>
<label><input type="checkbox" name="consciencia" value="Consciente"> Consciente</label>
<label><input type="checkbox" name="consciencia" value="Obnubilado"> Obnubilado</label>
<label><input type="checkbox" name="consciencia" value="Torporoso"> Torporoso</label>
<label><input type="checkbox" name="consciencia" value="Comatoso"> Comatoso</label><br>

<h3>Atenção</h3>
<label><input type="checkbox" name="atencao" value="Normovigil"> Normovigil</label>
<label><input type="checkbox" name="atencao" value="Hipervigil"> Hipervigil</label>
<label><input type="checkbox" name="atencao" value="Hipovigil"> Hipovigil</label><br>

<h3>Orientação</h3>
<label><input type="checkbox" id="orientacaoAlopsiquicaSim"> Alopsíquica</label>
<label><input type="checkbox" id="orientacaoAlopsiquicaNao"> Autopsíquica</label><br>

<h3>Memória</h3>
<label><input type="radio" id="memoriaPreservada" name="memoria">Preservada</label>
<label><input type="radio" id="memoriaAlterada" name="memoria">Alterada</label><br>
<label>Tipo de alteração: <input type="text" id="memoriaAlteradaTipo"></label><br>

<h3>Linguagem</h3>
<label><input type="checkbox" name="linguagem" value="Normal"> Normal</label>
<label><input type="checkbox" name="linguagem" value="Prolixo"> Prolixo</label>
<label><input type="checkbox" name="linguagem" value="Lacônico"> Lacônico</label>
<label><input type="checkbox" name="linguagem" value="Logorréico"> Logorréico</label>
<label><input type="checkbox" name="linguagem" value="Mutismo"> Mutismo</label><br>

<h3>Afetividade</h3>
<label><input type="checkbox" name="afetividade" value="Associado"> Associado</label>
<label><input type="checkbox" name="afetividade" value="Dissociado"> Dissociado</label>
<label><input type="checkbox" name="afetividade" value="Embotado"> Embotado</label><br>

<h3>Humor</h3>
<label><input type="checkbox" name="humor" value="Eutímico"> Eutímico</label>
<label><input type="checkbox" name="humor" value="Hipertímico"> Hipertímico</label>
<label><input type="checkbox" name="humor" value="Hipotímico"> Hipotímico</label><br>

<h3>Vontade</h3>
<label><input type="checkbox" name="vontade" value="Volição preservada"> Volição preservada</label>
<label><input type="checkbox" name="vontade" value="Impulsividade"> Impulsividade</label>
<label><input type="checkbox" name="vontade" value="Compulsão"> Compulsão</label>
<label><input type="checkbox" name="vontade" value="Volição diminuída"> Volição diminuída</label>
<label><input type="checkbox" name="vontade" value="Volição abolida"> Volição abolida</label><br>

<h3>Psicomotricidade</h3>
<label><input type="checkbox" name="psicomotricidade" value="Inalterado"> Inalterado</label>
<label><input type="checkbox" name="psicomotricidade" value="Estupor"> Estupor</label>
<label><input type="checkbox" name="psicomotricidade" value="Agitação psicomotora"> Agitação</label>
<label><input type="checkbox" name="psicomotricidade" value="Lentificação psicomotora"> Lentificação</label><br>

<h3>Pensamento</h3>
<label><input type="checkbox" name="pensamento" value="Organizado"> Organizado</label>
<label><input type="checkbox" name="pensamento" value="Desorganizado"> Desorganizado</label>
<label><input type="checkbox" name="pensamento" value="Inalterado"> Inalterado</label>
<label><input type="checkbox" name="pensamento" value="Acelerado"> Acelerado</label>
<label><input type="checkbox" name="pensamento" value="Lentificado"> Lentificado</label>
<label><input type="checkbox" name="pensamento" value="Normal"> Normal</label>
<label><input type="checkbox" name="pensamento" value="Delirante"> Delirante</label>
<label><input type="checkbox" name="pensamento" value="Ideação Suicida"> Ideação Suicida</label>
<label><input type="checkbox" name="pensamento" value="Persecutoriedade"> Persecutoriedade</label><br>

<label>Tipo de delírio: <input type="text" id="tipoDelirio"></label><br>

<h3>Senso Percepção</h3>
<label><input type="checkbox" name="sensoPercepcao" value="Sem alterações"> Sem alterações</label>
<label><input type="checkbox" name="sensoPercepcao" value="Ilusão"> Ilusão</label>
<label><input type="checkbox" name="sensoPercepcao" value="Despersonalização"> Despersonalização</label><br>

<label>Alucinações/Tipo: <input type="text" id="alucinacoes"></label><br>
<label>Outras impressões do caso:<br><textarea id="impressaoCaso"></textarea></label><br>

<button onclick="gerarResultado()">Gerar Resultado</button>

<div id="resultado">
    <pre></pre>
</div>

<script>
function obterSelecionados(nome) {
    const selecionados = Array.from(document.querySelectorAll(`input[name="${nome}"]:checked`))
        .map(el => el.value);
    return selecionados.length > 0 ? selecionados.join(', ') : 'Nenhum';
}

function gerarResultado() {
    let resultado = 'ACOLHIMENTO\n\n';

    resultado += 'Encaminhado por: ' + document.getElementById('encaminhadoPor').value + '\n';
    resultado += 'Motivo de acolhimento: ' + document.getElementById('motivoAcolhimento').value + '\n';
    resultado += 'Equipe de Referência: ' + document.getElementById('equipeReferencia').value + '\n';
    resultado += 'Profissionais no CAPS: ' + document.getElementById('profissionaisCaps').value + '\n';
    resultado += 'Rede de Apoio: ' + document.getElementById('redeApoio').value + '\n';
    resultado += 'Situação profissional: ' + document.getElementById('situacaoProfissional').value + '\n';
    resultado += 'Beneficiário: ' + (document.getElementById('beneficiarioSim').checked ? 'Sim' : 'Não') + '\n';
    resultado += 'Histórico de vida: ' + document.getElementById('historicoVida').value + '\n';
    resultado += 'Motivação para o tratamento: ' + document.getElementById('motivacaoTratamento').value + '\n';
    resultado += 'Alergias: ' + document.getElementById('alergias').value + '\n';
    resultado += 'Comorbidades Clínicas: ' + document.getElementById('comorbidadesClinicas').value + '\n';
    resultado += 'Comorbidades Psiquiátricas: ' + document.getElementById('comorbidadesPsiquiatricas').value + '\n';
    resultado += 'Medicações em uso: ' + document.getElementById('medicacoesUso').value + '\n';
    resultado += 'Histórico de tratamentos psiquiátricos: ' + document.getElementById('historicoTratamentos').value + '\n';
    resultado += 'História de comportamento suicida: ' + document.getElementById('comportamentoSuicida').value + '\n';

    for (let i = 1; i <= 3; i++) {
        resultado += `Substância Psicoativa ${i}: ` + document.getElementById(`substanciaPsico${i}`).value + '\n';
        resultado += `Situação ${i}: ` + (document.getElementById(`situacao${i}EmUso`).checked ? 'Em uso' : 'Cessado') + '\n';
        resultado += `Idade do 1º uso ${i}: ` + document.getElementById(`idadePrimeiroUso${i}`).value + '\n';
        resultado += `Frequência ${i}: ` + document.getElementById(`frequencia${i}`).value + '\n';
        resultado += `Último uso ${i}: ` + document.getElementById(`ultimoUso${i}`).value + '\n';
    }

    resultado += 'Fissura: ' + (document.getElementById('fissuraSim').checked ? 'Sim' : 'Não') + '\n';

    resultado += '\nEXAME PSÍQUICO:\n';
    resultado += 'Aparência: ' + document.getElementById('aparencia').value + '\n';
    resultado += 'Consciência: ' + obterSelecionados('consciencia') + '\n';
    resultado += 'Atenção: ' + obterSelecionados('atencao') + '\n';
    resultado += 'Orientação Alopsiquicamente: ' + (document.getElementById('orientacaoAlopsiquicaSim').checked ? 'Sim' : 'Não') + '\n';
    resultado += 'Orientação Autopsiquicamente: ' + (document.getElementById('orientacaoAlopsiquicaNao').checked ? 'Sim' : 'Não') + '\n';
    resultado += 'Memória: ' + (document.getElementById('memoriaPreservada').checked ? 'Preservada' : 'Alterada') + '\n';
    resultado += 'Tipo de alteração na memória: ' + document.getElementById('memoriaAlteradaTipo').value + '\n';
    resultado += 'Linguagem: ' + obterSelecionados('linguagem') + '\n';
    resultado += 'Afetividade: ' + obterSelecionados('afetividade') + '\n';
    resultado += 'Humor: ' + obterSelecionados('humor') + '\n';
    resultado += 'Vontade: ' + obterSelecionados('vontade') + '\n';
    resultado += 'Psicomotricidade: ' + obterSelecionados('psicomotricidade') + '\n';
    resultado += 'Pensamento: ' + obterSelecionados('pensamento') + '\n';
    resultado += 'Tipo de delírio: ' + document.getElementById('tipoDelirio').value + '\n';
    resultado += 'Senso Percepção: ' + obterSelecionados('sensoPercepcao') + '\n';
    resultado += 'Alucinações/Tipo: ' + document.getElementById('alucinacoes').value + '\n';
    resultado += 'Outras impressões do caso: ' + document.getElementById('impressaoCaso').value + '\n';

    document.querySelector('#resultado pre').textContent = resultado;
}
</script>

</body>
</html>
